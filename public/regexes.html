<!DOCTYPE html>

<html>
<head>
  <title>Regular Expressions</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href='http://fonts.googleapis.com/css?family=Bree+Serif' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" media="all" href="custom.css" />
  <script src='lib/d3/d3.min.js'></script>
  <script src='lib/queue-async/queue.min.js'></script>
  <script src='lib/lodash/lodash.min.js'></script>
</head>
<body>

  <header>
    <div class="contents">
      <a href="https://github.com/vlandham/js_data"><img class="github" style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>

      <a href='/'>
        <img class='logo' src="img/logo.png">
        <h1>Learn JS Data</h1>
        <h3>Data manipulation, munging, and processing in JavaScript</h3>
      </a>
    </div>
  </header>

  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <h1 id="regular-expressions">Regular Expressions</h1>
<p>Regular expressions are used to match certain patterns of strings within other strings.</p>
<p>They can be a useful tool for extracting <em>patterns</em> rather than exact strings, for example:
telephone numbers (sequences of numbers of a specific length,) street numbers or email
addresses.</p>
<h2 id="finding-strings">Finding Strings</h2>

            </div>
            
            <div class="content">
              <div class="codeblock">
                <textarea name="codehelper" id="code-" + 0 class="code" mode="ace/mode/javascript" globals="_,d3,queue,assert" runnable="true" showConsole=false buttons="reset,run" autorun="false" sandbox="false">
                  
var str = "how much wood would a woodchuck chuck if a woodchuck could chuck wood";
var regex = /wood/;


                </textarea>
              </div>
            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>If we want to know whether the string “wood” appears in our larger string <code>str</code> we
could do the following</p>

            </div>
            
            <div class="content">
              <div class="codeblock">
                <textarea name="codehelper" id="code-" + 1 class="code" mode="ace/mode/javascript" globals="_,d3,queue,assert" runnable="true" showConsole=true buttons="reset,run" autorun="false" sandbox="false">
                  if (regex.test(str)) {
  console.log("we found 'wood' in the string!");
}


                </textarea>
              </div>
            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <pre><code>=&gt; <span class="hljs-string">"we found 'wood' in the string!"</span>
</code></pre><p>To see the actual matches we found in the string, we can use the <code>match</code> method
to find all matches available:</p>

            </div>
            
            <div class="content">
              <div class="codeblock">
                <textarea name="codehelper" id="code-" + 2 class="code" mode="ace/mode/javascript" globals="_,d3,queue,assert" runnable="true" showConsole=true buttons="reset,run" autorun="false" sandbox="false">
                  var matches = str.match(regex);
console.log(matches);


                </textarea>
              </div>
            </div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <pre><code>=&gt; [<span class="hljs-string">"wood"</span>]
</code></pre><p>Note that this only returned one match, even though the word “wood” appears several
times in our original string. In order to find all individual instances of wood, we need
to add the global flag, which we can do by adding a <code>g</code> to the end of our expression:</p>

            </div>
            
            <div class="content">
              <div class="codeblock">
                <textarea name="codehelper" id="code-" + 3 class="code" mode="ace/mode/javascript" globals="_,d3,queue,assert" runnable="true" showConsole=true buttons="reset,run" autorun="false" sandbox="false">
                  
regex = /wood/g;
console.log(str.match(regex));


                </textarea>
              </div>
            </div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <pre><code>=&gt; [<span class="hljs-string">"wood"</span>, <span class="hljs-string">"wood"</span>, <span class="hljs-string">"wood"</span>, <span class="hljs-string">"wood"</span>]
</code></pre>
            </div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Now, note that two of those matches actually belonged to the word “woodchuck”, which
was not a part of our results. If we wanted to extend our regular expression to match both
we could do so in a few ways:</p>

            </div>
            
            <div class="content">
              <div class="codeblock">
                <textarea name="codehelper" id="code-" + 5 class="code" mode="ace/mode/javascript" globals="_,d3,queue,assert" runnable="true" showConsole=true buttons="reset,run" autorun="false" sandbox="false">
                  
regex = /wood.*?\b/g;
console.log(str.match(regex));


                </textarea>
              </div>
            </div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <pre><code>=&gt; [<span class="hljs-string">"wood"</span>, <span class="hljs-string">"woodchuck"</span>, <span class="hljs-string">"woodchuck"</span>, <span class="hljs-string">"wood"</span>]
</code></pre><p>In this regular expression we are matching everything that starts with the string “wood”
followed by 0 or more characters (<code>.*?</code>) until a word break (<code>\b</code>) occures.
Alternatively, we could also just search for both words:</p>

            </div>
            
            <div class="content">
              <div class="codeblock">
                <textarea name="codehelper" id="code-" + 6 class="code" mode="ace/mode/javascript" globals="_,d3,queue,assert" runnable="true" showConsole=true buttons="reset,run" autorun="false" sandbox="false">
                  regex = /woodchuck|wood/g;
console.log(str.match(regex));


                </textarea>
              </div>
            </div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <pre><code>=&gt; [<span class="hljs-string">"wood"</span>, <span class="hljs-string">"woodchuck"</span>, <span class="hljs-string">"woodchuck"</span>, <span class="hljs-string">"wood"</span>]
</code></pre><p>Note the order in which we did the last search. We used the word “woodchuch” before
the word “wood”. If we were to run our expression like so: <code>/wood|woodchuck/g</code>, we would
end up with <code>[&quot;wood&quot;, &quot;wood&quot;, &quot;wood&quot;, &quot;wood&quot;]</code> again because that search would be
“greedy”.</p>
<h2 id="replacing-with-regular-expressions">Replacing with regular expressions</h2>
<p>If we wanted to replace the word “wood” in our original string, with the word
“nun”, we could do it like so:</p>

            </div>
            
            <div class="content">
              <div class="codeblock">
                <textarea name="codehelper" id="code-" + 7 class="code" mode="ace/mode/javascript" globals="_,d3,queue,assert" runnable="true" showConsole=true buttons="reset,run" autorun="false" sandbox="false">
                  
regex = /wood/g;
var newstr = str.replace(regex, "nun");
console.log(newstr);


                </textarea>
              </div>
            </div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <pre><code>=&gt; <span class="hljs-string">"how much nun would a nunchuck chuck if a nunchuck could chuck nun"</span>
</code></pre><p>Probablay not what you’d be going for, but you get our drift.</p>

            </div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <h2 id="finding-numbers">Finding Numbers</h2>
<p>Extracting numbers from strings is a common task when looking for things like
dollar amounts or any other numerical measurements that might be scattered about
in the text.
For example, if we wanted to extract the total amount of money spent
on groceries from this message:</p>

            </div>
            
            <div class="content">
              <div class="codeblock">
                <textarea name="codehelper" id="code-" + 9 class="code" mode="ace/mode/javascript" globals="_,d3,queue,assert" runnable="true" showConsole=false buttons="reset,run" autorun="false" sandbox="false">
                  
var message = "I bought a loaf of bread for $3.99, some milk for $2.49 and" +
  "a box of chocolate cookies for $6.95";


                </textarea>
              </div>
            </div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>we could define a regular expression that looks for dollar amounts by defining a
pattern like so.</p>

            </div>
            
            <div class="content">
              <div class="codeblock">
                <textarea name="codehelper" id="code-" + 10 class="code" mode="ace/mode/javascript" globals="_,d3,queue,assert" runnable="true" showConsole=false buttons="reset,run" autorun="false" sandbox="false">
                  
regex = /\$([0-9\.]+)\b/g;


                </textarea>
              </div>
            </div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>this pattern looks for:</p>
<ul>
<li>A dollar sign (<code>\$</code>) to indicate the beginning of a price</li>
<li>A set of repeating characters that can be a number (<code>0-9</code>) or the period character <code>.</code>. These can appear
repeatedly (<code>+</code>). Note that we’re not being particularly careful in making sure we only have one period in
our string, for example.</li>
<li>A word break that would indicate the end of the price string (<code>\b</code>).</li>
</ul>
<p>If we wanted to find all the matches, we could use our string <code>match</code> function like so:</p>

            </div>
            
            <div class="content">
              <div class="codeblock">
                <textarea name="codehelper" id="code-" + 11 class="code" mode="ace/mode/javascript" globals="_,d3,queue,assert" runnable="true" showConsole=true buttons="reset,run" autorun="false" sandbox="false">
                  matches = message.match(regex);
console.log(matches);


                </textarea>
              </div>
            </div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <pre><code>=&gt; [<span class="hljs-string">"$3.99"</span>, <span class="hljs-string">"$2.49"</span>, <span class="hljs-string">"$6.95"</span>]
</code></pre><p>This is great! We have all our dollar amounts. While this gets us 90% there, we
can’t really add them with those <code>$</code> signs. To remove them, we can use our trusty
<code>reduce</code> function like so:</p>

            </div>
            
            <div class="content">
              <div class="codeblock">
                <textarea name="codehelper" id="code-" + 12 class="code" mode="ace/mode/javascript" globals="_,d3,queue,assert" runnable="true" showConsole=false buttons="reset,run" autorun="false" sandbox="false">
                  
matches.reduce(function(sum, value) {
  return sum + Number(value.slice(1));
}, 0);


                </textarea>
              </div>
            </div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <pre><code>=&gt; <span class="hljs-number">13.43</span>
</code></pre><h2 id="useful-special-characters">Useful special characters</h2>
<p>We’ve used a few special characters so far, like <code>\b</code> to indicate a word break. There
are a few others that might be useful to you:</p>
<ul>
<li><code>\d</code> - any number character.  Equivalent to [0-9].</li>
<li><code>\D</code> - any non number character. Equivalent to [^0-9].</li>
<li><code>\s</code> - any single space character. This includes a single space, tab, line feed or
form feed.</li>
</ul>
<p>You can see a full list of all special characters here:
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions">MDN - Regular Expressions</a></p>

            </div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <h2 id="next-task">Next Task</h2>
<p><a href="time.html">Working With Time</a></p>
<h2 id="see-also">See Also</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions">MDN - Regular Expressions</a> - for more information about regular expressions</li>
</ul>

            </div>
            
        </li>
        
    </ul>
  </div>
  <br/><br/>
  <section id="footer">
    Made with ♥ by <a href="http://bocoup.com/datavis">Bocoup DataVis</a>.
  </section>
  <script type="text/javascript" src="lib/jquery/dist/jquery.min.js"></script>
  <script type="text/javascript" src="lib/underscore.deferred/underscore.deferred.js"></script>
  <script type="text/javascript" src="lib/ace-builds/src-min-noconflict/ace.js"></script>
  <script type="text/javascript" src="lib/codeblocks/acify.js"></script>
  <script type="text/javascript" src="src/regexes.js"></script></body>
</html>
